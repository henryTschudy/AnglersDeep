[gd_scene load_steps=11 format=2]

[ext_resource path="res://textures/water/Water Texture - Layer 2.png" type="Texture" id=1]
[ext_resource path="res://fonts/Inkcalig.otf" type="DynamicFontData" id=2]
[ext_resource path="res://textures/water/Water Texture - Base.png" type="Texture" id=3]
[ext_resource path="res://textures/water/Water Texture - Layer 1.png" type="Texture" id=4]
[ext_resource path="res://textures/water/Water Texture - Layer 3.png" type="Texture" id=5]
[ext_resource path="res://objects/menu_button.tscn" type="PackedScene" id=6]

[sub_resource type="Shader" id=1]
code = "//https://www.youtube.com/watch?v=zgjDanEDjTg

shader_type canvas_item;

const float PI = 3.1415926;
uniform float speed = 0.7;
uniform float strength = 10.0;
uniform float frequency = 100.0;

//uniform sampler2D displacement;

void fragment() {
	float time_speed = TIME * speed;
	float wave_count = frequency * PI;
	
	float displacement_x = sin(time_speed + SCREEN_UV.y * wave_count);
	float displacement_y = sin(time_speed + SCREEN_UV.x * wave_count);
	vec2 displacement = vec2(displacement_x, displacement_y);
	
	vec4 color = texture(SCREEN_TEXTURE, SCREEN_UV + (displacement * SCREEN_PIXEL_SIZE * strength));
	
	COLOR = color;
}"

[sub_resource type="ShaderMaterial" id=3]
shader = SubResource( 1 )
shader_param/speed = 0.7
shader_param/strength = 9.381
shader_param/frequency = 2.0

[sub_resource type="DynamicFont" id=4]
size = 344
outline_size = 4
font_data = ExtResource( 2 )

[sub_resource type="DynamicFont" id=2]
size = 95
font_data = ExtResource( 2 )

[node name="Node2D" type="Node2D"]

[node name="Control" type="Control" parent="."]
margin_right = 1920.0
margin_bottom = 1080.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="water_texture_base" type="TextureRect" parent="Control"]
margin_left = -50.0
margin_top = -50.0
margin_right = 1870.0
margin_bottom = 1030.0
rect_scale = Vector2( 1.088, 1.101 )
mouse_filter = 2
texture = ExtResource( 3 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": true
}

[node name="water_texture_layer_1" type="TextureRect" parent="Control"]
self_modulate = Color( 1, 1, 1, 0.403922 )
margin_left = -50.0
margin_top = -50.0
margin_right = 1870.0
margin_bottom = 1030.0
rect_scale = Vector2( 1.088, 1.101 )
mouse_filter = 2
texture = ExtResource( 4 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": true
}

[node name="water_texture_layer_2" type="TextureRect" parent="Control"]
self_modulate = Color( 1, 1, 1, 0.47451 )
anchor_top = -3.8147e-08
margin_left = -50.0
margin_top = -50.0
margin_right = 1870.0
margin_bottom = 1030.0
rect_scale = Vector2( 1.088, 1.101 )
mouse_filter = 2
texture = ExtResource( 1 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": true
}

[node name="water_texture_layer_3" type="TextureRect" parent="Control"]
modulate = Color( 1, 1, 1, 0.462745 )
anchor_top = -3.8147e-08
margin_left = -50.0
margin_top = -50.0
margin_right = 1870.0
margin_bottom = 1030.0
rect_scale = Vector2( 1.088, 1.101 )
mouse_filter = 2
texture = ExtResource( 5 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": true
}

[node name="BackBufferCopy" type="BackBufferCopy" parent="."]
position = Vector2( 960, 540 )
scale = Vector2( 9.6, 5.4 )
copy_mode = 2

[node name="distorter" type="ColorRect" parent="BackBufferCopy"]
material = SubResource( 3 )
margin_left = -100.0
margin_top = -100.0
margin_right = 100.0
margin_bottom = 100.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Title" type="RichTextLabel" parent="."]
margin_left = 168.0
margin_top = 40.0
margin_right = 1734.0
margin_bottom = 471.0
custom_colors/default_color = Color( 0, 0, 0, 1 )
custom_fonts/normal_font = SubResource( 4 )
text = "Angler's Deep"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="menu_play" parent="." instance=ExtResource( 6 )]
anchor_right = 0.0
margin_left = 704.0
margin_top = 412.0
margin_right = 1216.0
margin_bottom = 540.0
focus_neighbour_top = NodePath("../menu_exit")
focus_neighbour_bottom = NodePath("../menu_settings")
custom_fonts/font = SubResource( 2 )
text = "Play"
ref_path = "res://scenes/overworld.tscn"
start_focused = true

[node name="menu_settings" parent="." instance=ExtResource( 6 )]
anchor_right = 0.0
margin_left = 704.0
margin_top = 576.0
margin_right = 1216.0
margin_bottom = 704.0
focus_neighbour_top = NodePath("../menu_play")
focus_neighbour_bottom = NodePath("../menu_exit")
text = "Settings"
ref_path = "res://scenes/settings_scene.tscn"

[node name="menu_exit" parent="." instance=ExtResource( 6 )]
anchor_right = 0.0
margin_left = 704.0
margin_top = 742.0
margin_right = 1216.0
margin_bottom = 870.0
focus_neighbour_top = NodePath("../menu_settings")
focus_neighbour_bottom = NodePath("../menu_play")
text = "Exit"
